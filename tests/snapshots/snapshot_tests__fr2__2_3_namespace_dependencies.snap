---
source: tests/snapshot_tests.rs
expression: output
---
// FR2.3: Namespace and module dependencies
// Const assertions
const MODES = [
    'dev',
    'prod'
] as const;

export const currentMode: Mode = MODES[0];

export type Middleware = {
    before: Handler;
    after: AsyncHandler;
};

namespace Internal {
    export interface Config {
        timeout: number;
    }
    export const defaultConfig: Config = {
        timeout: 5000
    };
}

export namespace Api {
    export interface Options extends Internal.Config {
        retries: number;
    }
    export const defaultOptions: Options = {
        ...Internal.defaultConfig,
        retries: 3
    };
}

type AsyncHandler = (data: any) => Promise<void>;
// Type dependencies
type Handler = (data: any) => void;
type Mode = typeof MODES[number];
